<html>
<head>
<title>web component demo</title>
<script async src="index.js"></script>
<style>
@import url(https://fonts.googleapis.com/css?family=Raleway:500,400,300,800,700);  
 body {
  font-family: Raleway;
  margin: .5in;
 }  
 </style>
</head>

<body>

  <p>
    <labeled-integer-select type="individual" count="20"></labeled-integer-select>
  </p> 

  <p>
    <labeled-integer-select-collection>
      <labeled-integer-select type="individual" count="20"></labeled-integer-select>
      <labeled-integer-select type="family" count="20"></labeled-integer-select>
      <labeled-integer-select type="group" count="20"></labeled-integer-select>
    </labeled-integer-select-collection>
  </p>

<script>
  // get last-saved lookup type
  const lookupType = getAppVar(appStateKeys.LOOKUP_TYPE)

  // tell the LabeledIntegerSelectCollection component to reflect the last-saved lookup
  const e = new CustomEvent('labeled-integer-select-event', { 
    detail: {
      type: lookupType,
      value: getLookupInstance(lookupType)
    }
  })
  LabeledIntegerSelectCollection.handler(e)

  // save subsequent lookups reported by the LabeledIntegerSelectCollection component
  window.addEventListener('labeled-integer-select-event', e => {
    console.log(JSON.stringify(e.detail))
    setAppVar(appStateKeys.LOOKUP_TYPE, e.detail.type)
    setLookupInstance(e.detail.type, e.detail.value)
  })
</script>

</body>
</html>
