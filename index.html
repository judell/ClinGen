<html>
<head>
<title>A demo of web components used in the ClinGen app</title>
<script async src="index.js"></script>
<style>
@import url(https://fonts.googleapis.com/css?family=Raleway:500,400,300,800,700);  
 body {
  font-family: Raleway;
  margin: .5in;
 }  
 </style>
</head>

<body>

  <h1>A demo of web components used in the ClinGen app</h1>

  <h1>IntegerSelect</h1>
  <p>Here is a standalone instance of IntegerSelect.</p>
  <pre>
    &lt;integer-select type="individual" count="20">&lt;/integer-select>
  </pre>

  <integer-select type="individual" count="20"></integer-select>
  
  <h2>LabeledIntegerSelect</h2>
  <p>Here is a standalone instance of LabeledIntegerSelect.</p>
  <pre>
    &lt;labeled-integer-select type="individual" count="20">&lt;/labeled-integer-select>
  </pre>

  <labeled-integer-select type="individual" count="20"></labeled-integer-select>

  <h2>LabeledIntegerSelectCollection</h2>
  <p>Here is a standalone instance of LabeledIntegerSelectCollection as used in the ClinGen app.</p>

  <pre>
    &lt;labeled-integer-select-collection>
      &lt;labeled-integer-select type="individual" count="20">&lt;/labeled-integer-select>
      &lt;labeled-integer-select type="family" count="20">&lt;/labeled-integer-select>
      &lt;labeled-integer-select type="group" count="20">&lt;/labeled-integer-select>
    &lt;/labeled-integer-select-collection>
  </pre>

  <labeled-integer-select-collection>
      <labeled-integer-select type="individual" count="20"></labeled-integer-select>
      <labeled-integer-select type="family" count="20"></labeled-integer-select>
      <labeled-integer-select type="group" count="20"></labeled-integer-select>
  </labeled-integer-select-collection>  

<script>
  // get last-saved lookup type
  const lookupType = getAppVar(appStateKeys.LOOKUP_TYPE)

  // tell the LabeledIntegerSelectCollection component to reflect the last-saved lookup
  const e = new CustomEvent('labeled-integer-select-event', { 
    detail: {
      type: lookupType,
      value: getLookupInstance(lookupType)
    }
  })
  LabeledIntegerSelectCollection.handler(e)

  // save subsequent lookups reported by the LabeledIntegerSelectCollection component
  window.addEventListener('labeled-integer-select-event', e => {
    console.log(JSON.stringify(e.detail))
    setAppVar(appStateKeys.LOOKUP_TYPE, e.detail.type)
    setLookupInstance(e.detail.type, e.detail.value)
  })
</script>

</body>
</html>
